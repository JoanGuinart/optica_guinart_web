---

---

<style lang="scss">
  @use "../styles/variables.scss";

  .serveis {
    background-color: #f4f4f4;
    padding: 3rem 1rem;
    text-align: center;

    &__title {
      font-size: 2.5rem;
      color: variables.$carbo-fosc;
      margin-bottom: 0.5rem;
    }

    &__description {
      font-size: 1.2rem;
      color: variables.$carbo-clar;
      margin-bottom: 2rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    &__cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;

      .card {
        background-color: variables.$gris;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 1.5rem;
        text-align: center;
        transition:
          transform 0.3s,
          box-shadow 0.3s;

        &:hover {
          transform: translateY(-5px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
          cursor: pointer;
        }

        img {
          width: 100%;
          max-width: 400px;
          height: auto;
          margin-bottom: 1rem;
          mix-blend-mode: multiply;
          border-radius: 4px;
        }

        h3 {
          font-size: 1.5rem;
          color: variables.$carbo-fosc;
          margin-bottom: 0.5rem;
        }

        p {
          font-size: 1rem;
          color: #666;
        }
      }
    }
  }

  .popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }

  .popup.hidden {
    display: none;
  }

  .popup-content {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    position: relative;
  }

  .popup-close {
    position: absolute;
    top: 10px;
    right: 10px;
    cursor: pointer;
    font-size: 20px;
  }
</style>

<section class="serveis">
  <h2 class="serveis__title">Els nostres serveis</h2>
  <p class="serveis__description">
    Oferim una àmplia gamma de serveis per garantir la salut visual i auditiva
    dels nostres clients.
  </p>

  <div class="serveis__cards">
    <div class="card">
      <img src="/img/optometria.webp" alt="Icona d'optometria" />
      <h3>Optometria</h3>
      <p>Graduació visual per assegurar una visió clara i precisa.</p>
    </div>

    <div class="card">
      <img src="/img/tensio-ocular.webp" alt="Icona de tensió ocular" />
      <h3>Tensió Ocular i Audiologia</h3>
      <p>Mesura de la tensió ocular i serveis d’audiologia avançada.</p>
    </div>

    <div class="card">
      <img src="/img/lentologia.webp" alt="Icona de lentologia" />
      <h3>Contactotologia</h3>
      <p>
        Adaptació personalitzada de lents de contacte per a totes les edats.
      </p>
    </div>
  </div>
  <div id="popup" class="popup hidden">
    <div class="popup-content">
      <span id="popup-close" class="popup-close">&times;</span>
      <div id="popup-info"></div>
    </div>
  </div>
</section>

<script>
  const cards = document.querySelectorAll(".card");
  const popup = document.getElementById("popup");
  const popupClose = document.getElementById("popup-close");
  const popupInfo = document.getElementById("popup-info");

  const cardContent = {
    1: {
      title: "Title for Card 1",
      image: "https://via.placeholder.com/150",
      text: "This is the description for Card 1.",
    },
    2: {
      title: "Title for Card 2",
      image: "https://via.placeholder.com/150",
      text: "This is the description for Card 2.",
    },
    3: {
      title: "Title for Card 3",
      image: "https://via.placeholder.com/150",
      text: "This is the description for Card 3.",
    },
  };
  cards.forEach((card, index) => {
    card.addEventListener("click", () => {
      const content = cardContent[index + 1];

      popupInfo.innerHTML = `
      <h2>${content.title}</h2>
      <img src="${content.image}" alt="${content.title}">
      <p>${content.text}</p>
    `;

      popup.classList.remove("hidden");
    });
  });

  popupClose.addEventListener("click", () => {
    popup.classList.add("hidden");
  });

  popup.addEventListener("click", (event) => {
    if (event.target === popup) {
      popup.classList.add("hidden");
    }
  });
</script>
